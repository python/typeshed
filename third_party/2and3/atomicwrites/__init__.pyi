from typing import Any, AnyStr, Callable, ContextManager, Generic, IO, Optional, Text, Type, Union

def replace_atomic(src: AnyStr, dst: AnyStr) -> None: ...
def move_atomic(src: AnyStr, dst: AnyStr) -> None: ...
class AtomicWriter(Generic[AnyStr]):
    def __init__(self, path: Union[Text, bytes], mode: Text = ..., overwrite: bool = ...) -> None: ...
    def open(self) -> ContextManager[IO[AnyStr]]: ...
    def _open(self, get_fileobject: Callable[..., IO[AnyStr]]) -> ContextManager[IO[AnyStr]]: ...
    def get_fileobject(self, dir: Optional[AnyStr] = ..., **kwargs: Any) -> IO[AnyStr]: ...
    def sync(self, f: IO[AnyStr]) -> None: ...
    def commit(self, f: IO[AnyStr]) -> None: ...
    def rollback(self, f: IO[AnyStr]) -> None: ...
def atomic_write(path: Union[Text, bytes], writer_cls: Type[AtomicWriter[AnyStr]] = ..., **cls_kwargs: object) -> ContextManager[IO[AnyStr]]: ...
