from logging import Logger
from typing import IO, Any, Callable, List, Optional, Tuple

from paramiko.channel import Channel
from paramiko.sftp import BaseSFTP
from paramiko.sftp_attr import SFTPAttributes
from paramiko.sftp_file import SFTPFile
from paramiko.transport import Transport
from paramiko.util import ClosingContextManager

_Callback = Callable[[int, int], Any]

b_slash: bytes

class SFTPClient(BaseSFTP, ClosingContextManager):
    sock: Channel
    ultra_debug: bool
    request_number: int
    logger: Logger
    def __init__(self, sock: Channel) -> None: ...
    @classmethod
    def from_transport(
        cls, t: Transport, window_size: Optional[int] = ..., max_packet_size: Optional[int] = ...
    ) -> SFTPClient: ...
    def close(self) -> None: ...
    def get_channel(self) -> Channel: ...
    def listdir(self, path: str = ...) -> List[str]: ...
    def listdir_attr(self, path: str = ...) -> List[SFTPAttributes]: ...
    def listdir_iter(self, path: str = ..., read_aheads: int = ...) -> None: ...
    def open(self, filename: str, mode: str = ..., bufsize: int = ...) -> SFTPFile: ...
    file = open
    def remove(self, path: str) -> None: ...
    unlink = remove
    def rename(self, oldpath: str, newpath: str) -> None: ...
    def posix_rename(self, oldpath: str, newpath: str) -> None: ...
    def mkdir(self, path: str, mode: int = ...) -> None: ...
    def rmdir(self, path: str) -> None: ...
    def stat(self, path: str) -> SFTPAttributes: ...
    def lstat(self, path: str) -> SFTPAttributes: ...
    def symlink(self, source: str, dest: str) -> None: ...
    def chmod(self, path: str, mode: int) -> None: ...
    def chown(self, path: str, uid: int, gid: int) -> None: ...
    def utime(self, path: str, times: Optional[Tuple[float, float]]) -> None: ...
    def truncate(self, path: str, size: int) -> None: ...
    def readlink(self, path: str) -> str: ...
    def normalize(self, path: str) -> str: ...
    def chdir(self, path: Optional[str] = ...) -> None: ...
    def getcwd(self) -> str: ...
    def putfo(
        self, fl: IO, remotepath: str, file_size: int = ..., callback: Optional[_Callback] = ..., confirm: bool = ...
    ) -> SFTPAttributes: ...
    def put(self, localpath: str, remotepath: str, callback: Optional[_Callback] = ..., confirm: bool = ...): ...
    def getfo(self, remotepath: str, fl: IO, callback: Optional[_Callback] = ...) -> int: ...
    def get(self, remotepath: str, localpath: str, callback: Optional[_Callback] = ...) -> None: ...

class SFTP(SFTPClient): ...
