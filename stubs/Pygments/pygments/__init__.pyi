from io import FileIO
from typing import TypeVar, overload

from pygments.formatters import Formatter

_T = TypeVar("_T")

def lex(code, lexer): ...
@overload
def format(tokens, formatter: Formatter, outfile: FileIO) -> None: ...
@overload
def format(tokens, formatter: Formatter[_T], outfile: None = ...) -> _T: ...
@overload
def highlight(code, lexer, formatter, outfile: FileIO) -> None: ...
@overload
def highlight(code, lexer, formatter, outfile: None = ...) -> str: ...
