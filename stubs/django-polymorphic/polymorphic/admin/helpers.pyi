from collections.abc import Iterator
from typing import Any

from django.contrib.admin.helpers import AdminField, InlineAdminForm, InlineAdminFormSet
from django.http import HttpRequest

class PolymorphicInlineAdminForm(InlineAdminForm):
    def polymorphic_ctype_field(self) -> AdminField: ...
    @property
    def is_empty(self) -> bool: ...

class PolymorphicInlineAdminFormSet(InlineAdminFormSet):
    request: HttpRequest | None
    obj: Any | None
    def __init__(self, *args: Any, **kwargs: Any) -> None: ...
    def __iter__(self) -> Iterator[PolymorphicInlineAdminForm]: ...
    def get_child_fieldsets(self, child_inline: Any) -> list[tuple[str | None, dict[str, Any]]]: ...
    def get_child_readonly_fields(self, child_inline: Any) -> list[str]: ...
    def get_child_prepopulated_fields(self, child_inline: Any) -> dict[str, Any]: ...
    def inline_formset_data(self) -> str: ...

class PolymorphicInlineSupportMixin:
    def get_inline_formsets(
        self, request: HttpRequest, formsets: list[Any], inline_instances: list[Any], obj: Any = None, *args: Any, **kwargs: Any
    ) -> list[InlineAdminFormSet]: ...
