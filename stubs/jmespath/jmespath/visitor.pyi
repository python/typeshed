from typing import Any
from typing_extensions import TypedDict

from jmespath.functions import Functions as Functions

class Options:
    dict_cls: Any
    custom_functions: Functions
    def __init__(self, dict_cls: Any | None = ..., custom_functions: Functions | None = ...) -> None: ...

class _Expression:
    expression: str
    interpreter: Visitor
    def __init__(self, expression: str, interpreter: Visitor) -> None: ...
    def visit(self, node: TreeNode, *args, **kwargs) -> TreeNode: ...

class Visitor:
    def __init__(self) -> None: ...
    def visit(self, node: TreeNode, *args, **kwargs) -> Any: ...
    def default_visit(self, node: TreeNode, *args, **kwargs) -> None: ...

class TreeNode(TypedDict):
    type: str
    value: Any
    children: list[TreeNode]

class TreeInterpreter(Visitor):
    COMPARATOR_FUNC: Any
    MAP_TYPE: Any
    def __init__(self, options: Any | None = ...) -> None: ...
    def default_visit(self, node: TreeNode, *args, **kwargs) -> None: ...
    def visit_subexpression(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_field(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_comparator(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_current(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_expref(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_function_expression(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_filter_projection(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_flatten(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_identity(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_index(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_index_expression(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_slice(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_key_val_pair(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_literal(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_multi_select_dict(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_multi_select_list(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_or_expression(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_and_expression(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_not_expression(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_pipe(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_projection(self, node: TreeNode, value: Any) -> TreeNode: ...
    def visit_value_projection(self, node: TreeNode, value: Any) -> TreeNode: ...

class GraphvizVisitor(Visitor):
    def __init__(self) -> None: ...
    def visit(self, node: TreeNode, *args, **kwargs) -> str: ...
