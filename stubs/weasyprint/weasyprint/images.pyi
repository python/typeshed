from _typeshed import Incomplete

import pydyf

class ImageLoadingError(ValueError): ...

class RasterImage:
    id: Incomplete
    mode: Incomplete
    width: Incomplete
    height: Incomplete
    ratio: Incomplete
    optimize: Incomplete
    invert_colors: Incomplete
    format: str
    image_data: Incomplete
    def __init__(
        self, pillow_image, image_id, image_data, filename=None, cache=None, orientation: str = "none", options=...
    ) -> None: ...
    def get_intrinsic_size(self, resolution, font_size): ...
    def draw(self, stream, concrete_width, concrete_height, style) -> None: ...
    def cache_image_data(self, data, filename=None, slot: str = "source"): ...
    def get_x_object(self, interpolate, dpi_ratio): ...

class LazyImage(pydyf.Object):
    def __init__(self, cache, key, data) -> None: ...
    @property
    def data(self): ...

class LazyLocalImage(pydyf.Object):
    def __init__(self, filename) -> None: ...
    @property
    def data(self): ...

class SVGImage:
    def __init__(self, tree, base_url, url_fetcher, context) -> None: ...
    def get_intrinsic_size(self, image_resolution, font_size): ...
    def draw(self, stream, concrete_width, concrete_height, _style) -> None: ...

def get_image_from_uri(
    cache, url_fetcher, options, url, forced_mime_type=None, context=None, orientation: str = "from-image"
): ...
def rotate_pillow_image(pillow_image, orientation): ...
def process_color_stops(vector_length, positions, hints, style): ...
def normalize_stop_positions(positions): ...
def gradient_average_color(colors, positions): ...

class Gradient:
    colors: Incomplete
    stop_positions: Incomplete
    color_hints: Incomplete
    repeating: Incomplete
    def __init__(self, color_stops, repeating, color_hints) -> None: ...
    def get_intrinsic_size(self, image_resolution, font_size): ...
    def draw(self, stream, concrete_width, concrete_height, style) -> None: ...
    def layout(self, width, height, style) -> None: ...

class LinearGradient(Gradient):
    def __init__(self, color_stops, direction, repeating, color_hints) -> None: ...
    def layout(self, width, height, style): ...

class RadialGradient(Gradient):
    center: Incomplete
    shape: Incomplete
    def __init__(self, color_stops, shape, size, center, repeating, color_hints) -> None: ...
    def layout(self, width, height, style): ...
