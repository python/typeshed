sudo: false
language: python

matrix:
  include:
    - python: "3.5"
      env: TEST_ARG="--mypy -p3.5 -p3.4 -p3.3 -p3.2 -p2.7"
    - python: "2.7"
      env: TEST_ARG="--pytype --num-parallel=4"

install:
  # pytype needs py-2.7, mypy needs py-3.2+. Additional logic in runtests.py
  - if [[ $TRAVIS_PYTHON_VERSION == '3.5' ]]; then pip install -U git+git://github.com/python/mypy; fi
  - if [[ $TRAVIS_PYTHON_VERSION == '2.7' ]]; then pip install -U git+git://github.com/google/pytype; fi

script:
  -  ./runtests.py $TEST_ARG
